# 例外処理 (Exception)

### checked例外
- DBなどJava実行環境以外の環境が原因で発生する例外
- 例外処理が必須

|`カテゴリ`|`クラス名`|`説明`|
|:---|:---|:---|
|**RuntimeException以外のExceptionのサブクラス**|IOException|入出力において何らかの失敗があった場合に発生|
||FileNotFoundException|ファイル入出力において、目的のファイルがなかった場合に発生|
||ClassNotFoundException|クラス名を表す文字列を引数にメソッドを使用して、クラスを読み込もうとしたが、そのクラスファイルが見つからない場合に発生|

### unchecked例外
- 実行中のプログラムが原因で発生する例外や、メモリ不足などプログラムの例外処理では復旧できない例外
- 例外処理は必須ではない

|`カテゴリ`|`クラス名`|`説明`|
|:---|:---|:---|
|**Errorのサブクラス**|AssertionError|assert文を使用している際に、bookean式でfalseが返ルト発生|
||OutOfMemoryError|ガベージコレクタが稼働しても使用可能なメモリをこれ以上確保できないメモリ不足時に発生|
||StackOverflowError|アプリケーションでの再帰の回数が多すぎる場合に発生|
||NoClassDefFoundError|読み込もうとしたクラスファイルが見つからない場合に発生|
|**RuntimeExceptionのサブクラス**|ArrayIndexOutOfBoundsException|不正なインデックスで要素にアクセスしようとした場合に発生|
||ClassCastException|参照変数において間違ったキャストを行った場合に発生|
||IllegalArgumentException|メソッドの引数に不正なものを使用した場合に発生|
||ArithmeticException|ゼロ除算|
||NullPointerException|nullが代入されている参照変数に対して、メソッドを呼び出しを行った場合に発生|
||NumberFormatException|整数を表さない文字列を整数に変換しようとした場合に発生|

### try-catch-finally
- try
  例外が発生した場合、tryブロック内の例外が発生した位置から後の処理はスキップされてcatchブロックに制御が移る。
- catch
  複数定義でき、クラス間で継承関係がある場合、順番は、サブクラス→スーパークラスの流れで定義する。
- finally
  例外が発生してもしなくても必ず実行した処理を定義する。

### throws
- 例外が発生する可能性のあるメソッドを定義するとき、
  ```
  [修飾子]戻り値の型 メソッド名 + throws + 発生する例外クラス名
  ```
  を指定すると、例外が発生したとき、メソッドの呼び出し元に転送される。呼び出したい例外が複数の場合は、例外クラス名をカンマで区切って並べる。
- Java実行環境では、unchecked例外は記載しなくても発生すれば呼び出し元に転送されプログラム上でキャッチしなければ、最終的にJava実行環境がキャッチしエラーのトレースを出すように作られている。catch例外が発生した時に記載がなければコンパイルエラーとなる。
### throwsメソッドのオーバーライド
- サブクラスのメソッドがスローする例外は、スーパークラスのメソッドがスローする例外クラスと同じか、その例外クラスのサブクラスとする。
- RuntimeExceptionおよびそのサブクラスの例外は、スーパークラスのメソッドに関係なくスローできる。
- スーパークラスのメソッドにthrowsがあっても、サブクラス側でthrowsを記述しないことは可能
### throw
throwキーワードを使用してプログラム内で明示的にスローすることができる
```
例1）
throw new IOException();
```
```
例2）
IOException e = new IOException();
thorw e;
```
